<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style/main.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <title>Twiddler - ttreit</title>
  </head>
  <body>
    <script>


      $(document).ready(function(){


        //var $body = $('body');
        // $body.html('');  -- given, not sure what it's for but was told it causes problems.

        let msgHistory = {};

        function getTweets() {
          var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          //add time stamp here
          let today = new Date();
          let date = (today.getMonth()+1)+'/'+today.getDate()+'/' + today.getFullYear();
          let time = today.getHours() + ":" + today.getMinutes();
          let dateTime = '  --- sent on: ' + date+' at: '+time;
          $tweet.text('@' + tweet.user + ': ' + tweet.message + dateTime );
          console.log(tweet.user, tweet.message, dateTime);


          $tweet.appendTo('.feed');
          index -= 1;
          }
        }
        function getHistory() {
          get()
        }


      //main
        getTweets();
        setInterval( getTweets, 100000);

      });

    </script>

    <!-- Main Page -->
    <!-- <button type="button">Refresh</button> -->

<div class="grid">
  <div class="title">
    <h1>Twiddler!</h1>
  </div>
  <div class="feed">
    <h2>Feed</h2>
  </div>
  <div class="history">
    <h2>History</h2>
  </div>
</div>
  </body>
</html>

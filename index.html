<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="style/main.css">
  </head>
  <body>
    <script>


      $(document).ready(function(){

        // Given
        var $body = $('body');
        // $body.html('');

        function getTweets() { //I added function
          var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          //add time stamp here
          let today = new Date();
          let date = (today.getMonth()+1)+'/'+today.getDate();
          let time = today.getHours() + ":" + today.getMinutes();
          let dateTime = ' tweeted at: ' + date+' '+time;
          $tweet.text('@' + tweet.user + ': ' + tweet.message + dateTime );
          $tweet.appendTo($body);
          index -= 1;
        }
          // End Given
      }
        getTweets();
//could not get "getTweets()" to work inside of SetInterval TODO
        setInterval(function(){
          var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
         //add time stamp here
         let today = new Date();
          let date = (today.getMonth()+1)+'/'+today.getDate();
          let time = today.getHours() + ":" + today.getMinutes();
          let dateTime = ' tweeted at: ' + date+' '+time;
          $tweet.text('@' + tweet.user + ': ' + tweet.message + dateTime );
          $tweet.appendTo($body);
          index -= 1;
        }
        },100000);

        //setInterval(getTweets();,1000);

      });

    </script>

    <!-- Main Page -->
    <!-- <button type="button">Refresh</button> -->
    <p> testing css</p>
  </body>
</html>
